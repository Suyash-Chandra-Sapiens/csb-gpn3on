{"version":3,"sources":["clientScript.js","journeyProvider.tsx","index.tsx"],"names":["clientScriptInvoker","company","fromHost","e","t","n","r","exports","o","i","l","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","a","arguments","length","u","this","response","JSON","parse","data","Error","cdn","api","createElement","async","src","concat","type","getElementsByTagName","appendChild","XMLHttpRequest","addEventListener","open","responseType","send","init","initOptions","initFormId","__journeyLoaderReady___","window","document","JourneyProvider","formId","journeyId","sessionId","companyId","sessionReady","journeyData","host","elRef","useRef","useEffect","journeyHostingScript","Journey","session","containerRef","current","formDefault","ref","defaultProps","App","props","parsed","queryString","location","search","policyExternalNumber","userType","state","name","Component","render","getElementById"],"mappings":"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","file":"static/js/main.eaffd8dd.chunk.js","sourcesContent":["/* eslint-disable prefer-rest-params */\r\n/* eslint-disable no-void */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-restricted-syntax */\r\n/* eslint-disable guard-for-in */\r\n/* eslint-disable no-bitwise */\r\n/* eslint-disable no-cond-assign */\r\n/* eslint-disable no-sequences */\r\n/* eslint-disable no-shadow */\r\n/* eslint-disable no-multi-assign */\r\n/* eslint-disable no-unused-expressions */\r\n/* eslint-disable no-return-assign */\r\n/* eslint no-param-reassign: 0 */\r\n/* eslint no-underscore-dangle: 0 */\r\n/* eslint wrap-iife: 0 */\r\nconst clientScriptInvoker = (company, fromHost) => {\r\n  !(function (e) {\r\n    const t = {};\r\n    function n(r) {\r\n      if (t[r]) return t[r].exports;\r\n      const o = (t[r] = { i: r, l: !1, exports: {} });\r\n      return e[r].call(o.exports, o, o.exports, n), (o.l = !0), o.exports;\r\n    }\r\n    (n.m = e),\r\n      (n.c = t),\r\n      (n.d = function (e, t, r) {\r\n        n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: r });\r\n      }),\r\n      (n.r = function (e) {\r\n        typeof Symbol !== \"undefined\" &&\r\n          Symbol.toStringTag &&\r\n          Object.defineProperty(e, Symbol.toStringTag, { value: \"Module\" }),\r\n          Object.defineProperty(e, \"__esModule\", { value: !0 });\r\n      }),\r\n      (n.t = function (e, t) {\r\n        if ((1 & t && (e = n(e)), 8 & t)) return e;\r\n        if (4 & t && typeof e === \"object\" && e && e.__esModule) return e;\r\n        const r = Object.create(null);\r\n        if (\r\n          (n.r(r),\r\n          Object.defineProperty(r, \"default\", { enumerable: !0, value: e }),\r\n          2 & t && typeof e !== \"string\")\r\n        )\r\n          for (const o in e)\r\n            n.d(\r\n              r,\r\n              o,\r\n              function (t) {\r\n                return e[t];\r\n              }.bind(null, o)\r\n            );\r\n        return r;\r\n      }),\r\n      (n.n = function (e) {\r\n        const t =\r\n          e && e.__esModule\r\n            ? function () {\r\n                return e.default;\r\n              }\r\n            : function () {\r\n                return e;\r\n              };\r\n        return n.d(t, \"a\", t), t;\r\n      }),\r\n      (n.o = function (e, t) {\r\n        return Object.prototype.hasOwnProperty.call(e, t);\r\n      }),\r\n      (n.p = \"\"),\r\n      n((n.s = 0));\r\n  })([\r\n    function (e, t) {\r\n      !(function (e, t, n, r) {\r\n        let o;\r\n        let a;\r\n        const i =\r\n          arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : \"\";\r\n        function u() {\r\n          try {\r\n            const e =\r\n              typeof this.response === \"string\"\r\n                ? JSON.parse(this.response)\r\n                : this.response;\r\n            if (!e.data) throw new Error();\r\n            const n = e.data;\r\n            const r = n.cdn;\r\n            const i = n.api;\r\n            (o = r), (a = i);\r\n            const u = t.createElement(\"script\");\r\n            (u.async = !0),\r\n              (u.src = \"\".concat(o, \"/loader.journey.js\")),\r\n              (u.type = \"text/javascript\"),\r\n              t.getElementsByTagName(\"head\")[0].appendChild(u);\r\n          } catch (e) {\r\n            throw new Error(\"Journey: failed to retrieve metadata\");\r\n          }\r\n        }\r\n        const c = new XMLHttpRequest();\r\n        c.addEventListener(\"load\", u),\r\n          c.open(\"GET\", \"\".concat(r, \"/\").concat(i, \"/metadata\"), !0),\r\n          (c.responseType = \"json\"),\r\n          c.send();\r\n        const d = {};\r\n        (e[n] = {\r\n          init(e) {\r\n            const t =\r\n              arguments.length > 1 && void 0 !== arguments[1]\r\n                ? arguments[1]\r\n                : {};\r\n            (d.initOptions = t), (d.initFormId = e);\r\n          }\r\n        }),\r\n          (e.__journeyLoaderReady___ = function (t, r) {\r\n            r(o, a, i, d), (e[n] = t);\r\n          });\r\n      })(window, document, \"Journey\", `${fromHost}`, company);\r\n    }\r\n  ]);\r\n};\r\nexport default clientScriptInvoker;\r\n","// eslint-disable-next-line\r\n// @ts-nocheck\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { JourneyData } from \"../../common/utility/helpers/JourneyHelper\";\r\nimport journeyHostingScript from \"./clientScript\";\r\n\r\ninterface Props {\r\n  /**\r\n   * @description journey uuid\r\n   */\r\n  journeyId: string;\r\n  /**\r\n   * @description unique session id for journey\r\n   */\r\n  sessionId?: string;\r\n  /**\r\n   * company Id\r\n   */\r\n  companyId: string;\r\n  /**\r\n   * @description optional default data for journey\r\n   */\r\n  journeyData?: JourneyData;\r\n  /**\r\n   * @description if session is ready the init function will be called\r\n   * prevents loading with 2 different sessionId\r\n   */\r\n  sessionReady: boolean;\r\n  /**\r\n   * environment hosting form\r\n   */\r\n  host: string;\r\n}\r\n\r\nconst JourneyProvider: React.FC<Props> = ({\r\n  journeyId: formId,\r\n  sessionId,\r\n  companyId,\r\n  sessionReady,\r\n  journeyData,\r\n  host\r\n}) => {\r\n  const elRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (sessionReady) {\r\n      journeyHostingScript(companyId, host);\r\n      window.Journey.init(formId, {\r\n        session: sessionId,\r\n        containerRef: elRef.current,\r\n        data: journeyData?.formDefault\r\n      });\r\n    }\r\n  }, [elRef, sessionReady]);\r\n\r\n  return <div ref={elRef} data-testid=\"form-container\" />;\r\n};\r\n\r\nJourneyProvider.defaultProps = {\r\n  journeyId: \"\"\r\n};\r\n\r\nexport default JourneyProvider;\r\n","import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport JourneyProvider from \"./journeyProvider\";\nimport \"./styles.css\";\nimport queryString from \"query-string\";\n\ninterface AppProps {}\ninterface AppState {\n  name: string;\n}\n\nclass App extends Component<AppProps, AppState> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      name: \"React\"\n    };\n  }\n\n  parsed = queryString.parse(window.location.search);\n  journeyData = {\n    formDefault: {\n      policyExternalNumber: this.parsed.policyExternalNumber || \"\",\n      userType: this.parsed.userType || \"\"\n    }\n  };\n\n  render() {\n    return (\n      <JourneyProvider\n        journeyData={this.journeyData}\n        sessionId={\"\"}\n        sessionReady={true}\n        journeyId={\"6f6c5fac-90ca-46c9-a26b-4ac4c1a841f3\"}\n        companyId={\"0f9d6a8e-25b3-4eff-9604-7f740642225d\"}\n        host={\"https://demo.portal-foundation-forms-widget.sapienspaas.com\"}\n      />\n    );\n  }\n}\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}